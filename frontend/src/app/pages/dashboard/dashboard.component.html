<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Dein Dashboard</h1>
    <p>Willkommen zurÃ¼ck, {{ userFullName }}!</p>

    <div class="quick-actions">
      <button mat-raised-button color="primary" (click)="createNewEvent()">
        <mat-icon>add</mat-icon>
        Neues Event erstellen
      </button>
    </div>
  </div>

  <mat-divider></mat-divider>

  <mat-tab-group animationDuration="200ms" class="dashboard-tabs">
    <!-- Meine Events Tab -->
    <mat-tab label="Meine Events">
      <div class="tab-content">
        @if (loadingMyEvents) {
          <div class="loading-spinner">
            <mat-spinner diameter="40"></mat-spinner>
            <p>Lade deine Events...</p>
          </div>
        } @else if (myEvents.length === 0) {
          <div class="empty-state">
            <mat-icon>event_busy</mat-icon>
            <h3>Keine Events gefunden</h3>
            <p>Du hast noch keine Events erstellt.</p>
            <button
              mat-stroked-button
              color="primary"
              (click)="createNewEvent()"
            >
              Erstelle dein erstes Event
            </button>
          </div>
        } @else {
          @for (event of myEvents; track event.id) {
            <app-event-card
              [event]="event"
              (click)="viewEventDetails(event.id)"
            ></app-event-card>
          }
        }
      </div>
    </mat-tab>

    <!-- Anstehende Events Tab -->
    <mat-tab
      label="Anstehende Events"
      [matBadge]="upcomingEvents.length"
      [matBadgeHidden]="upcomingEvents.length === 0"
    >
      <div class="tab-content">
        @if (loadingAttendingEvents) {
          <div class="loading-spinner">
            <mat-spinner diameter="40"></mat-spinner>
            <p>Lade anstehende Events...</p>
          </div>
        } @else if (upcomingEvents.length === 0) {
          <div class="empty-state">
            <mat-icon>event_available</mat-icon>
            <h3>Keine anstehenden Events</h3>
            <p>Du hast keine anstehenden Events, an denen du teilnimmst.</p>
            <button mat-stroked-button color="primary" routerLink="/search">
              Events suchen
            </button>
          </div>
        } @else {
          @for (event of upcomingEvents; track event.id) {
            <app-event-card
              [event]="event"
              (click)="viewEventDetails(event.id)"
            ></app-event-card>
          }
        }
      </div>
    </mat-tab>

    <!-- Vergangene Events Tab -->
    <mat-tab label="Vergangene Events">
      <div class="tab-content">
        @if (loadingAttendingEvents) {
          <div class="loading-spinner">
            <mat-spinner diameter="40"></mat-spinner>
            <p>Lade vergangene Events...</p>
          </div>
        } @else if (pastEvents.length === 0) {
          <div class="empty-state">
            <mat-icon>history</mat-icon>
            <h3>Keine vergangenen Events</h3>
            <p>Du hast noch an keinen Events teilgenommen.</p>
          </div>
        } @else {
          @for (event of pastEvents; track event.id) {
            <app-event-card
              [event]="event"
              (click)="viewEventDetails(event.id)"
            ></app-event-card>
          }
        }
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
